# Запуск программы и тестов

Для запуска файловой системы и тестирования необходимо выполнить следующие шаги:

1. **Запуск файловой системы:**
   - Создайте каталог `./mount`.
   - Выполните команду `make run` для запуска файловой системы.
   - Можно также создать каталог с другим именем и запустить файловую систему с помощью команды `./fisopfs -f ./имя_каталога`.

2. **Запуск тестов:**
   - Создайте каталог `./mount`.
   - В одном терминале выполните команду `make run`.
   - В другом терминале выполните команду `python test.py` для запуска модульных тестов на Python.

# Документация по дизайну

## Структура инодов и блоков

Файловая система базируется на VSFS и использует иноды для представления файлов. Каждый инод содержит метаданные файла, такие как режим доступа, размер, даты доступа, изменения и модификации, количество жестких ссылок, UID, GID и длина. Основные данные файла хранятся в блоках данных, на которые указывают указатели в иноде.

```c
typedef struct inode {
    mode_t mode;
    int size_blocks;
    time_t data_access;
    time_t data_change;
    time_t data_modification;
    size_t n_links;
    uid_t uid;
    gid_t gid;
    size_t len;
    int blocks[BLOCKS_PER_INODE];
} inode_t;
```

## Структура каталогов

Каталоги представлены в виде блоков `char`. Каждая запись каталога содержит имя файла/каталога и его номер инода в родительском каталоге.

```c
typedef struct dirent {
    char name[50];
    int inode_number;
} dirent_t;
```

## Хранение на диске

При уничтожении файловой системы массивы инодов и блоков сохраняются в файл, вместе с их битовыми картами. При инициализации файловой системы эти данные загружаются из файла в память.